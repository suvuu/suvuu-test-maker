<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TestMaker - Available Tests</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark text-light">
  <div class="container py-5">
    <h2 class="mb-4">TestMaker</h2>

    <div class="mb-4 d-flex flex-wrap gap-2 align-items-center">
      <a href="/new" class="btn btn-success">New Test</a>
      <a href="/export" class="btn btn-info">Export All Tests (data.json)</a>

      <button type="button" class="btn btn-secondary" id="import-btn">Import Tests</button>
      <form id="import-form" method="post" enctype="multipart/form-data" action="/import" style="display: none;">
        <input type="file" name="file" accept=".json" id="import-file-input">
      </form>

      <div id="import-status" class="text-light ms-3"></div>
    </div>

    <p id="tests-empty" class="text-muted">Loading tests...</p>
    <ul id="tests-list" class="list-group d-none"></ul>
  </div>

  <!-- Delete Modal -->
  <div class="modal fade" id="deleteModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content bg-dark text-light">
        <div class="modal-header">
          <h5 class="modal-title">Confirm Delete</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          Delete test: <strong id="testTitlePreview"></strong>?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <a id="confirmDeleteBtn" href="#" class="btn btn-danger">Yes, Delete</a>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/static/index.js" defer></script>
</body>
</html>
